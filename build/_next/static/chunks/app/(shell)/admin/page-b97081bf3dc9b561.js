(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[232],{1379:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>h});var t=l(4248),s=l(4564),r=l(9661),n=l(9410),i=l(8440),o=l(8299);function c(){let[e,a]=(0,s.useState)([]),[l,r]=(0,s.useState)([]),[c,d]=(0,s.useState)([]),[u,m]=(0,s.useState)([]),[h,x]=(0,s.useState)(""),[p,f]=(0,s.useState)(""),[v,j]=(0,s.useState)([]),[N,b]=(0,s.useState)(!1),[y,g]=(0,s.useState)(""),[w,S]=(0,s.useState)("");async function _(){var e;let{data:a}=await n.N.auth.getSession(),l=null==(e=a.session)?void 0:e.access_token;if(!l)throw Error("No hay sesi\xf3n activa");return l}(0,s.useEffect)(()=>{(async()=>{let{data:e}=await n.N.from("operators").select("id,name").order("name");a(null!=e?e:[]);let{data:l}=await n.N.from("fleets").select("id,name,operator_id").order("name");r(null!=l?l:[]);let{data:t}=await n.N.from("vehicles").select("id,code,plate,fleet_id,operator_id").order("code");d(null!=t?t:[]);let{data:s}=await n.N.from("profiles").select("id,full_name").eq("role","driver").order("full_name");m(null!=s?s:[])})()},[]);let C=async e=>{e.preventDefault(),b(!0);try{let e=await _(),a=await (0,i.Tx)("admin_upsert_fleet",{name:h,operator_id:p,vehicle_ids:v},e);o.Ay.success("Flota guardada: ".concat(a.fleet_id)),x(""),f(""),j([]);let{data:l}=await n.N.from("fleets").select("id,name,operator_id").order("name");r(null!=l?l:[]);let{data:t}=await n.N.from("vehicles").select("id,code,plate,fleet_id,operator_id").order("code");d(null!=t?t:[])}catch(a){let e=a instanceof Error?a.message:String(a);o.Ay.error(e)}finally{b(!1)}},A=async e=>{if(e.preventDefault(),!y||!w)return alert("Selecciona chofer y veh\xedculo");b(!0);try{var a;let e=null==(a=(await n.N.auth.getSession()).data.session)?void 0:a.access_token,l="https://exyxexamvwfvwxjjfqpl.supabase.co".replace(".co",".co/functions/v1"),t=await fetch("".concat(l,"/admin_assign_driver"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({driver_id:y,vehicle_id:w})});if(!t.ok)throw Error(await t.text());let{data:s}=await n.N.from("vehicles").select("id, code, plate, fleet_id, operator_id, current_driver_id").order("code");d(s||[]),o.Ay.success("Asignaci\xf3n creada")}catch(e){o.Ay.error(e.message)}finally{b(!1)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("form",{onSubmit:C,className:"card p-4 space-y-3",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Crear / Editar Flota"}),(0,t.jsxs)("label",{className:"text-sm",children:["Nombre de flota",(0,t.jsx)("input",{className:"mt-1 w-full rounded-xl border px-3 py-2",value:h,onChange:e=>x(e.target.value)})]}),(0,t.jsxs)("label",{className:"text-sm",children:["Operador",(0,t.jsxs)("select",{className:"mt-1 w-full rounded-xl border px-3 py-2",value:p,onChange:e=>f(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"— selecciona —"}),e.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,t.jsx)("div",{className:"text-sm font-medium mt-2",children:"Veh\xedculos (marcar para incluir en la flota)"}),(0,t.jsx)("div",{className:"max-h-56 overflow-auto border rounded-2xl p-3 grid md:grid-cols-2 gap-2",children:c.map(e=>(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)("input",{type:"checkbox",checked:v.includes(e.id),onChange:()=>{var a;return a=e.id,void j(e=>e.includes(a)?e.filter(e=>e!==a):[...e,a])}}),(0,t.jsxs)("span",{children:[e.code," \xb7 ",e.plate," ",e.fleet_id?"(flota actual)":""]})]},e.id))}),(0,t.jsx)("button",{className:"btn",disabled:N||!h||!p,children:N?"Guardando…":"Guardar flota"})]}),(0,t.jsxs)("form",{onSubmit:A,className:"card p-4 space-y-3",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Asignar Chofer a Veh\xedculo"}),(0,t.jsxs)("label",{className:"text-sm",children:["Chofer",(0,t.jsxs)("select",{className:"mt-1 w-full rounded-xl border px-3 py-2",value:y,onChange:e=>g(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"— chofer —"}),u.map(e=>(0,t.jsx)("option",{value:e.id,children:e.full_name},e.id))]})]}),(0,t.jsxs)("label",{className:"text-sm",children:["Veh\xedculo",(0,t.jsxs)("select",{className:"mt-1 w-full rounded-xl border px-3 py-2",value:w,onChange:e=>S(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"— veh\xedculo —"}),c.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.code," \xb7 ",e.plate," ",e.fleet_id?"\xb7 (en flota)":""," ",e.current_driver_id?"\xb7 (con chofer)":""]},e.id))]})]}),(0,t.jsx)("button",{className:"btn",disabled:N||!y||!w,children:N?"Asignando…":"Asignar"})]}),(0,t.jsxs)("div",{className:"card p-4 overflow-x-auto",children:[(0,t.jsx)("h3",{className:"font-semibold mb-3",children:"Flotas"}),(0,t.jsxs)("table",{className:"table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Nombre"}),(0,t.jsx)("th",{children:"Operador"}),(0,t.jsx)("th",{children:"Activa"})]})}),(0,t.jsx)("tbody",{children:l.map(a=>{var l,s;let r=null!=(s=null==(l=e.find(e=>e.id===a.operator_id))?void 0:l.name)?s:"—";return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:a.name}),(0,t.jsx)("td",{children:r}),(0,t.jsx)("td",{children:"✔"})]},a.id)})})]})]})]})}function d(){let[e,a]=(0,s.useState)([]),[l,r]=(0,s.useState)([]),[i,c]=(0,s.useState)(""),[d,u]=(0,s.useState)(""),[m,h]=(0,s.useState)(""),[x,p]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{let{data:e}=await n.N.from("fleets").select("id,name,operator_id").order("name");a(null!=e?e:[])})()},[]);let f=async e=>{if(c(e),!e)return void r([]);let{data:a,error:l}=await n.N.from("vehicles").select("id,code,plate,active,fleet_id").eq("fleet_id",e).order("code");l&&console.error("[vehicles]",l),r(null!=a?a:[])},v=async a=>{if(a.preventDefault(),i&&d&&m){p(!0);try{var l,t;let a=null!=(t=null==(l=e.find(e=>e.id===i))?void 0:l.operator_id)?t:null,{error:s}=await n.N.from("vehicles").insert({code:d,plate:m,active:!0,fleet_id:i,operator_id:a});if(s)throw s;u(""),h(""),await f(i),o.Ay.success("Veh\xedculo agregado")}catch(a){let e=a instanceof Error?a.message:String(a);o.Ay.error(e)}finally{p(!1)}}};return(0,t.jsxs)("div",{className:"card p-4 space-y-3",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Flota → Veh\xedculos"}),(0,t.jsxs)("label",{className:"text-sm",children:["Flota",(0,t.jsxs)("select",{className:"mt-1 w-full rounded-xl border px-3 py-2",value:i,onChange:e=>f(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"— selecciona flota —"}),e.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("form",{onSubmit:v,className:"grid gap-3 md:grid-cols-3",children:[(0,t.jsx)("input",{className:"rounded-xl border px-3 py-2",placeholder:"C\xf3digo (BUS-001)",value:d,onChange:e=>u(e.target.value)}),(0,t.jsx)("input",{className:"rounded-xl border px-3 py-2",placeholder:"Placa (ABC-123)",value:m,onChange:e=>h(e.target.value)}),(0,t.jsx)("button",{className:"btn",disabled:x||!d||!m,children:"Agregar veh\xedculo"})]}),(0,t.jsxs)("ul",{className:"text-sm divide-y",children:[l.map(e=>(0,t.jsxs)("li",{className:"py-2 flex justify-between",children:[(0,t.jsxs)("span",{children:[e.code," \xb7 ",e.plate]}),(0,t.jsx)("span",{className:"text-gray-500",children:e.active?"Activo":"Inactivo"})]},e.id)),0===l.length&&(0,t.jsx)("li",{className:"py-2 text-gray-500",children:"Sin veh\xedculos en esta flota."})]})]})]})}var u=l(7637);function m(){let{profile:e}=(0,r.A)(),{start:a,stop:l}=(0,u.M)(),[n,c]=(0,s.useState)("Aviso PAYKI"),[d,m]=(0,s.useState)("Mensaje general"),[h,x]=(0,s.useState)("/");if((null==e?void 0:e.role)!=="admin")return null;let p=async e=>{e.preventDefault(),a();try{var t,s;let e=await (0,i.c9)(n,d,h);o.Ay.success("Notificado: ".concat(null!=(t=e.sent)?t:0," (fallidos: ").concat(null!=(s=e.failed)?s:0,")"))}catch(e){o.Ay.error(e.message||"Error enviando notificaciones")}finally{l()}};return(0,t.jsxs)("form",{onSubmit:p,className:"card p-4 space-y-3",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Notificaci\xf3n a todos"}),(0,t.jsx)("input",{className:"rounded-xl border px-3 py-2",placeholder:"T\xedtulo",value:n,onChange:e=>c(e.target.value)}),(0,t.jsx)("textarea",{className:"rounded-xl border px-3 py-2",placeholder:"Mensaje",value:d,onChange:e=>m(e.target.value)}),(0,t.jsx)("input",{className:"rounded-xl border px-3 py-2",placeholder:"URL al abrir",value:h,onChange:e=>x(e.target.value)}),(0,t.jsx)("button",{className:"btn w-full",children:"Enviar a todos"})]})}function h(){let{profile:e}=(0,r.A)(),[a,l]=(0,s.useState)(!1),[u,h]=(0,s.useState)(0),[x,p]=(0,s.useState)(0),[f,v]=(0,s.useState)(0),[j,N]=(0,s.useState)(0),[b,y]=(0,s.useState)([]),[g,w]=(0,s.useState)([]),[S,_]=(0,s.useState)(""),[C,A]=(0,s.useState)(""),[E,I]=(0,s.useState)(""),[k,O]=(0,s.useState)("driver"),[T,M]=(0,s.useState)(""),[P,q]=(0,s.useState)([{code:"general",label:"General",base_amount:2.5}]);if((0,s.useEffect)(()=>{(async()=>{var e,a;let l=new Date().toISOString().slice(0,10),{data:t}=await n.N.from("transactions").select("amount,type,ts").gte("ts","".concat(l,"T00:00:00Z")),s=(null!=t?t:[]).filter(e=>"ride"===e.type);h(s.reduce((e,a)=>e+Number(a.amount),0)),N(s.length);let{data:r}=await n.N.from("vehicles").select("id,code,plate,active").eq("active",!0);y(null!=r?r:[]),p(null!=(e=null==r?void 0:r.length)?e:0);let{data:i}=await n.N.from("driver_shifts").select("status").eq("status","open");v(null!=(a=null==i?void 0:i.length)?a:0);let{data:o}=await n.N.from("profiles").select("id,full_name").eq("role","driver");w(null!=o?o:[])})()},[]),(null==e?void 0:e.role)!=="admin")return(0,t.jsx)("div",{className:"card p-6",children:"Acceso solo para administradores."});let D=(e,a,l)=>{q(t=>t.map((t,s)=>s===e?{...t,[a]:"base_amount"===a?Number(l):String(l)}:t))};async function F(){var e;let{data:a}=await n.N.auth.getSession(),l=null==(e=a.session)?void 0:e.access_token;if(!l)throw Error("No hay sesi\xf3n activa");return l}let z=async e=>{e.preventDefault(),l(!0);try{let e=await F();await (0,i.Tx)("admin_create_user",{email:S,password:C,full_name:E,role:k},e),o.Ay.success("Usuario creado correctamente"),_(""),A(""),I("")}catch(a){let e=a instanceof Error?a.message:String(a);o.Ay.error(e)}finally{l(!1)}},J=async e=>{e.preventDefault(),l(!0);try{let e=await F();await (0,i.Tx)("admin_upsert_operator",{name:T,fares:P},e),o.Ay.success("Operador y tarifas guardados"),M(""),q([{code:"general",label:"General",base_amount:2.5}])}catch(a){let e=a instanceof Error?a.message:String(a);o.Ay.error(e)}finally{l(!1)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"card p-4",children:[(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"Ingresos Hoy"}),(0,t.jsxs)("div",{className:"text-2xl font-semibold",children:["S/ ",u.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"card p-4",children:[(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"Unidades Activas"}),(0,t.jsx)("div",{className:"text-2xl font-semibold",children:x})]}),(0,t.jsxs)("div",{className:"card p-4",children:[(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"Conductores en Ruta"}),(0,t.jsx)("div",{className:"text-2xl font-semibold",children:f})]}),(0,t.jsxs)("div",{className:"card p-4",children:[(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"Pasajeros Hoy"}),(0,t.jsx)("div",{className:"text-2xl font-semibold",children:j})]})]}),(0,t.jsx)(m,{}),(0,t.jsx)(c,{}),(0,t.jsxs)("form",{onSubmit:z,className:"card p-4 space-y-3",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Crear usuario"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,t.jsxs)("label",{className:"text-sm",children:["Email",(0,t.jsx)("input",{className:"mt-1 w-full rounded-xl border px-3 py-2",value:S,onChange:e=>_(e.target.value)})]}),(0,t.jsxs)("label",{className:"text-sm",children:["Contrase\xf1a",(0,t.jsx)("input",{className:"mt-1 w-full rounded-xl border px-3 py-2",type:"password",value:C,onChange:e=>A(e.target.value)})]})]}),(0,t.jsxs)("label",{className:"text-sm",children:["Nombre completo",(0,t.jsx)("input",{className:"mt-1 w-full rounded-xl border px-3 py-2",value:E,onChange:e=>I(e.target.value)})]}),(0,t.jsxs)("label",{className:"text-sm",children:["Rol",(0,t.jsxs)("select",{className:"mt-1 w-full rounded-xl border px-3 py-2",value:k,onChange:e=>O(e.target.value),children:[(0,t.jsx)("option",{value:"driver",children:"Chofer"}),(0,t.jsx)("option",{value:"passenger",children:"Pasajero"})]})]}),(0,t.jsx)("button",{className:"btn",disabled:a,children:a?"Creando…":"Crear usuario"})]}),(0,t.jsxs)("form",{onSubmit:J,className:"card p-4 space-y-3",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Operador y tarifas"}),(0,t.jsxs)("label",{className:"text-sm",children:["Nombre del operador",(0,t.jsx)("input",{className:"mt-1 w-full rounded-xl border px-3 py-2",value:T,onChange:e=>M(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"text-sm font-medium",children:"Tarifas"}),P.map((e,a)=>(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-2",children:[(0,t.jsx)("input",{placeholder:"code",className:"rounded-xl border px-3 py-2",value:e.code,onChange:e=>D(a,"code",e.target.value)}),(0,t.jsx)("input",{placeholder:"label",className:"rounded-xl border px-3 py-2",value:e.label,onChange:e=>D(a,"label",e.target.value)}),(0,t.jsx)("input",{placeholder:"base_amount",type:"number",step:"0.01",className:"rounded-xl border px-3 py-2",value:e.base_amount,onChange:e=>D(a,"base_amount",e.target.value)})]},a)),(0,t.jsx)("button",{type:"button",className:"btn-outline",onClick:()=>q(e=>[...e,{code:"",label:"",base_amount:0}]),children:"+ Agregar tarifa"})]}),(0,t.jsx)("button",{className:"btn",disabled:a,children:a?"Guardando…":"Guardar operador"})]}),(0,t.jsx)(d,{}),(0,t.jsxs)("div",{className:"card p-4 overflow-x-auto",children:[(0,t.jsx)("h3",{className:"font-semibold mb-3",children:"Flota"}),(0,t.jsxs)("table",{className:"table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"ID"}),(0,t.jsx)("th",{children:"C\xf3digo"}),(0,t.jsx)("th",{children:"Placa"}),(0,t.jsx)("th",{children:"Estado"})]})}),(0,t.jsx)("tbody",{children:b.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:e.id}),(0,t.jsx)("td",{children:e.code}),(0,t.jsx)("td",{children:e.plate}),(0,t.jsx)("td",{children:e.active?"Activo":"Inactivo"})]},e.id))})]})]}),(0,t.jsxs)("div",{className:"card p-4 overflow-x-auto",children:[(0,t.jsx)("h3",{className:"font-semibold mb-3",children:"Conductores"}),(0,t.jsxs)("table",{className:"table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"ID"}),(0,t.jsx)("th",{children:"Nombre"})]})}),(0,t.jsx)("tbody",{children:g.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:e.id}),(0,t.jsx)("td",{children:e.full_name})]},e.id))})]})]})]})}},2895:(e,a,l)=>{Promise.resolve().then(l.bind(l,1379))},7637:(e,a,l)=>{"use strict";l.d(a,{M:()=>i,o:()=>n});var t=l(4248),s=l(4564);let r=(0,s.createContext)(null);function n(e){let{children:a}=e,[l,n]=(0,s.useState)(0),i=()=>n(e=>e+1),o=()=>n(e=>Math.max(0,e-1));(0,s.useEffect)(()=>{let e=window.fetch;return window.fetch=async function(){for(var a=arguments.length,l=Array(a),t=0;t<a;t++)l[t]=arguments[t];n(e=>e+1);try{return await e(...l)}finally{n(e=>Math.max(0,e-1))}},()=>{window.fetch=e}},[]);let c=(0,s.useMemo)(()=>({pending:l,start:i,stop:o}),[l]);return(0,t.jsx)(r.Provider,{value:c,children:a})}let i=()=>{let e=(0,s.useContext)(r);if(!e)throw Error("LoadingProvider missing");return e}},8440:(e,a,l)=>{"use strict";l.d(a,{Tx:()=>s,c9:()=>r});var t=l(9410);async function s(e,a,l){let t="https://exyxexamvwfvwxjjfqpl.supabase.co".replace(".co",".co/functions/v1"),s=await fetch("".concat(t,"/").concat(e),{method:"POST",headers:{"Content-Type":"application/json",...l?{Authorization:"Bearer ".concat(l)}:{}},body:JSON.stringify(a)}),r=await s.text(),n=null;try{n=r?JSON.parse(r):null}catch(e){}if(!s.ok)throw Error(n&&n.error?n.error:r||s.statusText);return n}async function r(e,a,l){var r;let n=null==(r=(await t.N.auth.getSession()).data.session)?void 0:r.access_token;if(!n)throw Error("No auth");return s("send_broadcast",{title:e,body:a,url:l},n)}},9410:(e,a,l)=>{"use strict";l.d(a,{N:()=>t});let t=(0,l(5835).createBrowserClient)("https://exyxexamvwfvwxjjfqpl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV4eXhleGFtdndmdnd4ampmcXBsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkyNDc5MzEsImV4cCI6MjA3NDgyMzkzMX0.JW0haLRNKznqB0C5zMx9wF7_u6RTZQsD6WwgqpHHVIU")},9661:(e,a,l)=>{"use strict";l.d(a,{A:()=>o,O:()=>i});var t=l(4248),s=l(4564),r=l(9410);let n=(0,s.createContext)(null);function i(e){let{children:a}=e,[l,i]=(0,s.useState)(null),[o,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(null),[m,h]=(0,s.useState)(!0),[x,p]=(0,s.useState)(null),f=(0,s.useCallback)(async(e,a)=>{h(!0),p(null);try{var l;let{data:t,error:s}=await r.N.from("profiles").select("*").eq("id",e).maybeSingle();if(s&&"PGRST116"!==s.code&&console.warn("[profiles select]",s),t)return void u(t);let{data:n,error:i}=await r.N.rpc("ensure_profile",{p_id:e,p_email:null!=a?a:""});if(i)throw console.error("[ensure_profile]",i),Error("No se pudo crear/obtener el perfil");let{data:o,error:c}=await r.N.from("profiles").select("*").eq("id",e).maybeSingle();c&&console.warn("[profiles reselect]",c),u(null!=(l=null!=o?o:n)?l:null)}catch(e){u(null),p((null==e?void 0:e.message)||"Error de autenticaci\xf3n")}finally{h(!1)}},[]),v=(0,s.useCallback)(async()=>{var e,a;if(!l)return;let{data:{session:t}}=await r.N.auth.getSession();await f(l,null!=(a=null==t||null==(e=t.user)?void 0:e.email)?a:null)},[l,f]);(0,s.useEffect)(()=>{(async()=>{try{var e,a,l,t;h(!0);let{data:{session:s}}=await r.N.auth.getSession(),n=null!=(l=null==s||null==(e=s.user)?void 0:e.id)?l:null,o=null!=(t=null==s||null==(a=s.user)?void 0:a.email)?t:null;i(n),c(o),n?await f(n,o):h(!1)}catch(e){p((null==e?void 0:e.message)||"Error inicializando sesi\xf3n"),h(!1)}})();let{data:e}=r.N.auth.onAuthStateChange(async(e,a)=>{var l,t,s,r;let n=null!=(s=null==a||null==(l=a.user)?void 0:l.id)?s:null,o=null!=(r=null==a||null==(t=a.user)?void 0:t.email)?r:null;i(n),c(o),n?await f(n,o):(u(null),h(!1))});return()=>{e.subscription.unsubscribe()}},[f]);let j=async()=>{await r.N.auth.signOut(),i(null),c(null),u(null)};return(0,t.jsx)(n.Provider,{value:{userId:l,email:o,profile:d,loading:m,error:x,refreshProfile:v,signOut:j},children:a})}let o=()=>{let e=(0,s.useContext)(n);if(!e)throw Error("AuthProvider missing");return e}}},e=>{e.O(0,[835,299,647,516,358],()=>e(e.s=2895)),_N_E=e.O()}]);